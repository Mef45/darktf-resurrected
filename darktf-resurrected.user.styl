/* ==UserStyle==
x-release-please-start-version
@name           DarkTF Resurrected
@description    Dark theme implementation for DTF.ru with customization
@namespace      github.com/mef45/darktf-resurrected
@version        3.1.0
@author         Mef45
@author         Neko Natum
@author         Pegasus Plus
@preprocessor   stylus
@homepageURL    https://github.com/mef45/darktf-resurrected
@supportURL     https://github.com/mef45/darktf-resurrected/issues
@updateURL      https://raw.githubusercontent.com/mef45/darktf-resurrected/master/darktf-resurrected.user.styl
@license        MIT
x-release-please-end

@var select scheme "Цветовая схема" {
  'DarkTF Resurrected': 'darktf-resurrected',
  'DarkTF Blue': 'darktf-blue',
  'DarkTF Gold': 'darktf-gold',
  'DarkerTF': 'darkertf',
  'PornTF': 'porntf'
}

@var checkbox hidePopular "Скрыть «Популярное»" 0

@var checkbox hideNew "Скрыть «Свежее»" 0

@var checkbox hideMyFeed "Скрыть «Моя лента»" 0

@var checkbox hideUnreadIcon "Скрыть индикатор новых постов в «Моей ленте»" 0

@var checkbox hideBookmarks "Скрыть «Закладки»" 0

@var checkbox hideVacancies "Скрыть «Вакансии»" 0

@var checkbox hideRating "Скрыть «Рейтинг»" 0

@var checkbox hideSubscription "Скрыть «Подписки»" 0

@var checkbox hideSidebarFooter "Скрыть блок ссылок внизу бокового меню" 0

@var checkbox hideStat "Скрыть статистику просмотров" 0

@var checkbox hideVacanciesWidget "Скрыть блок вакансий" 0

@var checkbox hideRecommendationFeed "Скрыть блок рекомендаций внизу страницы" 0

@var checkbox automaticallyExpandCommentsBlock "Автоматически разворачивать комментарии" 0

@var checkbox hideSubsitePlusBadges "Скрыть иконку плюса возле ника" 0

@var checkbox hideSubsiteVerificationBadges "Скрыть иконку верификации возле ника" 0

@var checkbox roundedCorners "Скругленные углы у подсвеченных комментариев" 0

@var checkbox blurredSpoilers "Использовать блюр вместо сплошного цвета в спойлерах" 0

@var checkbox experimental "Enable experimental features" 0

==/UserStyle== */
@-moz-document url-prefix("https://dtf.ru/") {
  /* ****** */
  /* mixins */
  /* ****** */
  animatedBorderOnHover(height = 1.5px) {
    /* Adds an animated bottom border to a DOM element when hovered. */
    position: relative;

    &::before {
      background: currentColor;
      bottom: 0;
      content: '';
      height: height;
      left: 0;
      position: absolute;
      transform: scaleX(0);
      transition: all 0.2s ease-in-out 0s;
      visibility: hidden;
      width: 100%;
    }

    &:hover::before {
      transform: scaleX(1);
      visibility: visible;
    }
  }

  highlightEffectOnActiveHover(rel = true) {
    /* Adds a ::before element to a DOM element, which is in an active state, and applies a highlight effect when hovered. */
    if (rel) {
      position: relative;
    }

    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      background: currentColor;
      border-radius: inherit;
      opacity: activated-opacity;
    }

    &:hover {
      opacity: 1;
    }

    &:hover::before {
      opacity: activated-opacity + hover-opacity;
    }
  }

  highlightEffectOnHover(rel = true) {
    /* Adds a ::before element to a DOM element and applies a highlight effect when hovered. */
    if (rel) {
      position: relative;
    }

    &::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      background: currentColor;
      border-radius: inherit;
      opacity: 0;
    }

    &:hover {
      opacity: 1;
    }

    &:hover::before {
      opacity: hover-opacity;
    }
  }

  getFilterValueBySelectedTheme() {
    if (scheme == 'darktf-resurrected') {
      invert(98%) sepia(4%) saturate(2734%) hue-rotate(323deg) brightness(106%) contrast(99%);
    } else if (scheme == 'darktf-blue') {
      invert(90%) sepia(18%) saturate(287%) hue-rotate(159deg) brightness(97%) contrast(96%);
    } else if (scheme == 'darktf-gold') {
      invert(98%) sepia(4%) saturate(2734%) hue-rotate(323deg) brightness(106%) contrast(99%);
    } else if (scheme == 'darkertf') {
      invert(57%) sepia(21%) saturate(764%) hue-rotate(163deg) brightness(99%) contrast(86%);
    } else if (scheme == 'porntf') {
      invert(56%) sepia(43%) saturate(1239%) hue-rotate(360deg) brightness(103%) contrast(106%);
    }
  }

  if (scheme == darktf-resurrected) {
    theme-primary = #fef7cf;
    theme-secondary = #c9e7f2;
    theme-background = #1b1b1b;
    theme-surface = #292929;
    theme-on-primary = #000000;
    theme-on-surface = #bfbfbf;
    theme-on-background = #bfbfbf;
    theme-notifies-link-color-hover = darken(theme-secondary, 5);
    theme-twitch = #9b51e0;
    theme-youtube = #eb5757;
  }

  if (scheme == darktf-blue) {
    theme-primary = #c9e7f2;
    theme-secondary = #c9e7f2;
    theme-background = #1b1b1b;
    theme-surface = #292929;
    theme-on-primary = #000000;
    theme-on-surface = #bfbfbf;
    theme-on-background = #bfbfbf;
    theme-notifies-link-color-hover = darken(theme-secondary, 5);
    theme-twitch = #9b51e0;
    theme-youtube = #eb5757;
  }

  if (scheme == darktf-gold) {
    theme-primary = #fef7cf;
    theme-secondary = #fef7cf;
    theme-background = #1b1b1b;
    theme-surface = #292929;
    theme-on-primary = #000000;
    theme-on-surface = #bfbfbf;
    theme-on-background = #bfbfbf;
    theme-notifies-link-color-hover = darken(theme-secondary, 5);
    theme-twitch = #9b51e0;
    theme-youtube = #eb5757;
  }

  if (scheme == darkertf) {
    theme-primary = #699abf;
    theme-secondary = #699abf;
    theme-background = #000000;
    theme-surface = #0f0f0f;
    theme-on-primary = #000000;
    theme-on-surface = #bfbfbf;
    theme-on-background = #bfbfbf;
    theme-notifies-link-color-hover = darken(theme-secondary, 5);
    theme-twitch = #9b51e0;
    theme-youtube = #eb5757;
  }

  if (scheme == porntf) {
    theme-primary = #ff9900;
    theme-secondary = #ff9900;
    theme-background = #000000;
    theme-surface = #101010;
    theme-on-primary = #000000;
    theme-on-surface = #bfbfbf;
    theme-on-background = #bfbfbf;
    theme-notifies-link-color-hover = lighten(theme-secondary, 10);
    theme-twitch = #9b51e0;
    theme-youtube = #eb5757;
  }

  border-opacity = 0.12;
  high-emphasis-opacity = 1;
  medium-emphasis-opacity = 0.7;
  disabled-opacity = 0.5;
  idle-opacity = 0.1;
  hover-opacity = 0.04;
  focus-opacity = 0.12;
  selected-opacity = 0.08;
  activated-opacity = 0.12;
  pressed-opacity = 0.16;
  dragged-opacity = 0.08;
  standard-easing = cubic-bezier(0.4, 0, 0.2, 1);

  /* ******* */
  /* general */
  /* ******* */
  body {
    background: rgba(theme-background, high-emphasis-opacity);

    .main {
      background: rgba(theme-background, high-emphasis-opacity);
      color: rgba(theme-on-background, high-emphasis-opacity);

      .l-island-bg {
        background: rgba(theme-surface, high-emphasis-opacity);
        color: rgba(theme-on-surface, high-emphasis-opacity);
      }
    }

    /* ********** */
    /* error page */
    /* ********** */
    .wrapper {
      background: rgba(theme-background, high-emphasis-opacity);
      color: rgba(theme-on-background, high-emphasis-opacity);

      .logo {
        path {
          fill: rgba(theme-on-surface, high-emphasis-opacity);
        }
      }

      .share_button__container {
        .share_button {
          border-color: rgba(theme-primary, high-emphasis-opacity);
          color: rgba(theme-on-surface, high-emphasis-opacity);

          &:hover {
            background: rgba(theme-surface, high-emphasis-opacity);
          }
        }
      }

      .start {
        background: rgba(theme-primary, high-emphasis-opacity);
        color: rgba(theme-on-primary, high-emphasis-opacity);

        &:hover {
          background: lighten(rgba(theme-primary, high-emphasis-opacity), hover-opacity * 100);
        }
      }
    }
  }

  .dstr-bn.dstr-bn--top-desktop.dstr-bn--active {
    /* я не помню что это за стиль, пусть будет красный фон пока не найду */
    background: red;
    display: none;
  }

  /* ****** */
  /* loader */
  /* ****** */
  .ui_preloader .ui_preloader__dot {
    background: rgba(theme-primary, high-emphasis-opacity);
  }

  /* **** */
  /* tabs */
  /* **** */
  .ui-tabs {
    .ui-tabs__content {
      .ui-tab {
        color: rgba(theme-on-surface, high-emphasis-opacity);
        padding: 0;

        highlightEffectOnHover();

        &:hover {
          color: rgba(theme-primary, high-emphasis-opacity);
        }

        &--active {
          pointer-events: auto;

          .ui-tab__label {
            color: rgba(theme-primary, high-emphasis-opacity);

            &::after {
              background: rgba(theme-primary, high-emphasis-opacity);
            }
          }
        }

        &__label {
          padding: 0 12px;
        }
      }
    }
  }

  .v-tabs {
    .v-tabs-navigation {
      background: rgba(theme-surface, high-emphasis-opacity);
      border: thin solid rgba(theme-primary, border-opacity);
      color: rgba(theme-on-surface, high-emphasis-opacity);

      highlightEffectOnHover(false);
    }

    .v-tabs__content {
      .v-tab {
        color: rgba(theme-on-surface, high-emphasis-opacity);
        padding: 0;

        highlightEffectOnHover();

        &:hover {
          color: rgba(theme-primary, high-emphasis-opacity);
        }

        &--active {
          pointer-events: auto;

          .v-tab__label {
            color: rgba(theme-primary, high-emphasis-opacity);

            &::after {
              background-color: rgba(theme-primary, high-emphasis-opacity);
            }
          }
        }

        &__label {
          padding: 0 12px;

          .v-tab__counter {
            color: rgba(theme-on-surface, medium-emphasis-opacity);
          }
        }
      }
    }
  }

  /* ************* */
  /* vertical tabs */
  /* ************* */
  .v-list-tabs {
    .v-list-tab {
      &:hover {
        background: rgba(theme-on-surface, hover-opacity);
        color: rgba(theme-primary, high-emphasis-opacity);

        .v-list-tab__icon {
          color: rgba(theme-primary, high-emphasis-opacity);
        }
      }

      &.v-list-tab--active {
        background: rgba(theme-on-surface, hover-opacity);
        color: rgba(theme-primary, high-emphasis-opacity);

        .v-list-tab__icon {
          color: rgba(theme-primary, high-emphasis-opacity);
        }
      }

      .v-list-tab__icon {
        color: rgba(theme-on-surface, high-emphasis-opacity);
      }
    }
  }

  /* ****** */
  /* tables */
  /* ****** */
  .table {
    .table__row.table__row--header {
      .table__cell {
        &:not(:first-child) {
          color: rgba(theme-on-surface, medium-emphasis-opacity);
        }
      }
    }

    .table__content {
      .table__row {
        .table__cell {
          a:hover {
            color: rgba(theme-secondary, high-emphasis-opacity) !important;
          }
        }

        &--me {
          background: rgba(theme-background, disabled-opacity);
        }
      }
    }

    .table__row.table__row--footer {
      &:hover {
        color: rgba(theme-secondary, high-emphasis-opacity);
      }
    }
  }

  /* ******* */
  /* buttons */
  /* ******* */
  .v-button {
    background: rgba(theme-surface, high-emphasis-opacity);
    border: thin solid currentColor;

    highlightEffectOnHover();

    if (scheme == darktf-resurrected) {
      color: rgba(theme-on-surface, high-emphasis-opacity);

      svg {
        color: rgba(theme-on-surface, high-emphasis-opacity);
      }
    } else {
      color: rgba(theme-primary, high-emphasis-opacity);

      svg {
        color: rgba(theme-primary, high-emphasis-opacity);
      }
    }

    &.v-button--inline {
      border: unset;
      border-radius: 4px;

      &:hover,
      &:hover svg {
        color: rgba(theme-primary, high-emphasis-opacity);
        opacity: 1;
      }

      .v-button__label {
        padding-right: var(--offset);
      }
    }

    &.v-button--blue {
      background: rgba(theme-surface, high-emphasis-opacity);
      border: thin solid currentColor;
      color: rgba(theme-primary, high-emphasis-opacity);

      svg {
        color: rgba(theme-primary, high-emphasis-opacity);
      }
    }
  }

  .ui-button {
    &.ui-button--2 {
      background: rgba(theme-surface, high-emphasis-opacity);
      border: thin solid currentColor;
      color: #e92a40;

      highlightEffectOnHover();
    }

    &.ui-button--5 {
      background: rgba(theme-surface, high-emphasis-opacity);
      border: thin solid currentColor;
      color: rgba(theme-on-surface, high-emphasis-opacity);

      highlightEffectOnHover();
    }
  }

  .ui-rounded-button {
    .ui-rounded-button__link {
      background: rgba(theme-surface, high-emphasis-opacity);
      border: thin solid rgba(theme-on-surface, border-opacity);
      color: rgba(theme-on-surface, high-emphasis-opacity);

      highlightEffectOnHover();

      &:hover {
        background: rgba(theme-surface, high-emphasis-opacity);
      }
    }

    &--active {
      .ui-rounded-button__link {
        background: rgba(theme-surface, high-emphasis-opacity) !important;

        highlightEffectOnActiveHover();
      }
    }
  }

  /* ********** */
  /* checkboxes */
  /* ********** */
  .v-checkbox {
    &:hover {
      .v-checkbox__control {
        background: lighten(rgba(theme-surface, high-emphasis-opacity), hover-opacity * 100);
        border-color: rgba(theme-primary, high-emphasis-opacity);
      }
    }

    .v-checkbox__control {
      border: thin solid rgba(theme-on-surface, high-emphasis-opacity);
    }

    &.v-checkbox--checked {
      .v-checkbox__control {
        background: rgba(theme-primary, high-emphasis-opacity);

        .v-checkbox__icon {
          color: rgba(theme-on-primary, high-emphasis-opacity);
        }
      }
    }
  }

  /* ***** */
  /* forms */
  /* ***** */
  .v-form-section {
    .v-form-section__subtitle {
      color: rgba(theme-on-surface, high-emphasis-opacity);

      .t-link-inline {
        border-bottom: thin solid transparent;
        color: rgba(theme-secondary, high-emphasis-opacity);

        &:hover {
          border-bottom-color: currentColor;
        }
      }
    }
  }

  /* ****** */
  /* fields */
  /* ****** */
  .v-field {
    .v-field__wrapper {
      background: rgba(theme-surface, high-emphasis-opacity);
      border: thin solid rgba(theme-primary, border-opacity);
      color: rgba(theme-on-surface, high-emphasis-opacity);
      transition: border-color 0.25s standard-easing;

      &:hover {
        border-color: rgba(theme-primary, border-opacity * 2);
        box-shadow: unset;
      }

      .v-field__icon {
        color: rgba(theme-on-surface, high-emphasis-opacity);
      }

      /* ******* */
      /* selects */
      /* ******* */
      .v-select {
        .v-select__placeholder {
          color: rgba(theme-on-surface, high-emphasis-opacity);
        }
      }

      /* *********** */
      /* text fields */
      /* *********** */
      .v-text-input {
        .v-text-input__input {
          color: rgba(theme-on-surface, high-emphasis-opacity);

          &::placeholder {
            color: rgba(theme-on-surface, medium-emphasis-opacity);
          }

          &:-webkit-autofill {
            -webkit-text-fill-color: rgba(theme-on-surface, high-emphasis-opacity);
          }
        }

        &__countdown {
          color: rgba(theme-on-surface, high-emphasis-opacity);
        }
      }

      /* ********* */
      /* textareas */
      /* ********* */
      .v-text-area {
        .v-text-area__input {
          color: rgba(theme-on-surface, high-emphasis-opacity);

          &::placeholder {
            color: rgba(theme-on-surface, medium-emphasis-opacity);
          }
        }
      }

      /* *********** */
      /* datepickers */
      /* *********** */
      .v-datepicker {
        cursor: default;

        .v-datepicker__placeholder {
          color: rgba(theme-on-surface, medium-emphasis-opacity);
        }

        .v-datepicker__date {
          background: rgba(theme-primary, high-emphasis-opacity);
          color: rgba(theme-on-primary, high-emphasis-opacity);
        }

        .v-datepicker__calendar {
          .v-calendar {
            background: rgba(theme-surface, high-emphasis-opacity);
            color: rgba(theme-on-surface, high-emphasis-opacity);

            .v-calendar__header {
              .v-calendar__arrow {
                background: rgba(theme-surface, high-emphasis-opacity);
                color: rgba(theme-on-surface, high-emphasis-opacity);

                highlightEffectOnHover(false);
              }
            }

            .v-calendar__body {
              .v-calendar__cell {
                .v-calendar__weekday {
                  color: rgba(theme-on-surface, high-emphasis-opacity);
                }

                .v-calendar__day {
                  &:not(&--disabled) {
                    highlightEffectOnHover();

                    &:hover {
                      background: rgba(theme-surface, high-emphasis-opacity);
                    }
                  }

                  &--current {
                    color: rgba(theme-primary, high-emphasis-opacity);
                  }

                  &--out {
                    color: rgba(theme-on-surface, medium-emphasis-opacity);
                  }

                  &--disabled {
                    color: rgba(theme-on-surface, disabled-opacity);
                  }
                }

                &--selected {
                  .v-calendar__day {
                    &:not(&--disabled) {
                      background: rgba(theme-surface, high-emphasis-opacity);

                      highlightEffectOnActiveHover();
                    }
                  }
                }
              }
            }

            .v-calendar__bottom {
              .v-calendar__buttons {
                .v-calendar__button {
                  background: rgba(theme-surface, high-emphasis-opacity);
                  color: rgba(theme-on-surface, high-emphasis-opacity);

                  highlightEffectOnHover();

                  &--primary {
                    background: rgba(theme-surface, high-emphasis-opacity);
                    border: thin solid currentColor;
                    color: rgba(theme-primary, high-emphasis-opacity);
                  }
                }
              }
            }
          }
        }
      }
    }

    &.v-field--focused {
      .v-field__wrapper {
        background: rgba(theme-surface, high-emphasis-opacity);
        border-color: rgba(theme-primary, high-emphasis-opacity);
      }
    }
  }

  .ui-limited-input {
    .input {
      background: rgba(theme-surface, high-emphasis-opacity);
      color: rgba(theme-on-surface, high-emphasis-opacity);
    }
  }

  /* ***** */
  /* lists */
  /* ***** */
  .v-list {
    .v-list__content {
      .v-list__item {
        &:hover {
          color: rgba(theme-secondary, high-emphasis-opacity);
        }
      }
    }

    .v-list__more {
      border-bottom: thin solid transparent;
      color: rgba(theme-secondary, high-emphasis-opacity);
      display: inline-block;

      &:hover {
        border-bottom-color: currentColor;
      }
    }
  }

  .v-list-subsites {
    .v-list-subsites-item {
      .v-list-subsites-item__main {
        &:hover {
          color: rgba(theme-secondary, high-emphasis-opacity);
        }
      }
    }

    .v-list-subsites__more {
      border-bottom: thin solid transparent;
      color: rgba(theme-secondary, high-emphasis-opacity);
      display: inline-block !important;

      &:hover {
        border-bottom-color: currentColor;
      }
    }

    .etc-control {
      .v-etc__dots {
        color: rgba(theme-on-surface, high-emphasis-opacity);

        &:hover {
          color: rgba(theme-primary, high-emphasis-opacity);
        }
      }

      .v-etc__dropdown {
        background: rgba(theme-surface, high-emphasis-opacity);
        border: thin solid rgba(theme-primary, border-opacity);
        color: rgba(theme-on-surface, high-emphasis-opacity);

        .v-etc__item {
          &:hover {
            background: rgba(theme-on-surface, hover-opacity);
            color: rgba(theme-primary, high-emphasis-opacity);
          }

          &:first-child::before {
            content: none;
          }
        }
      }
    }
  }

  /* ******** */
  /* popovers */
  /* ******** */
  .popover {
    background: rgba(theme-surface, high-emphasis-opacity);
    border: thin solid rgba(theme-primary, border-opacity);
    color: rgba(theme-on-surface, high-emphasis-opacity);

    .popover__header {
      box-shadow: 0 0 0 4px rgba(theme-surface, high-emphasis-opacity);
    }

    .popover__content {
      .popover__section {
        .popover-title {
          color: rgba(theme-on-background, medium-emphasis-opacity);
        }

        &:nth-child(2):not(:last-child) {
          .popover__list {
            .popover-item {
              &:last-child:not(:only-child) {
                .popover-item__icon,
                .popover-item__label {
                  color: rgba(theme-secondary, high-emphasis-opacity);
                }
              }
            }
          }
        }

        .popover__list {
          .popover-item {
            .popover-item__main {
              .popover-item__details {
                color: rgba(theme-on-background, medium-emphasis-opacity);
              }
            }

            &--selected {
              background: rgba(theme-primary, hover-opacity);
              color: rgba(theme-primary, high-emphasis-opacity);
            }

            &:not(&--selected) {
              &:hover {
                background: rgba(theme-surface, high-emphasis-opacity);
                color: rgba(theme-primary, high-emphasis-opacity);
              }

              highlightEffectOnHover();
            }
          }
        }
      }
    }
  }

  /* ******* */
  /* dialogs */
  /* ******* */
  .v-popup-container:not(.v-popup--zoomed-image) {
    .v-popup-window {
      .v-popup-window__content {
        background: rgba(theme-surface, high-emphasis-opacity);
        color: rgba(theme-on-surface, high-emphasis-opacity);

        .v-popup-header {
          background: rgba(theme-surface, high-emphasis-opacity);
          color: rgba(theme-on-surface, high-emphasis-opacity);

          .v-popup-header__btn {
            --color: rgba(theme-on-surface, high-emphasis-opacity);
          }

          &.v-popup-header--with-divider {
            border-bottom-color: rgba(theme-on-surface, border-opacity);
          }
        }

        .v-popup-window__close {
          color: rgba(theme-on-surface, high-emphasis-opacity);

          &:hover {
            color: rgba(theme-primary, high-emphasis-opacity);
          }
        }

        p:nth-child(2) {
          /* я не могу найти для чего это правило -_-*/
          /* поэтому пусть пока будет желтым, авось замечу*/
          color: yellow; /* rgba(theme-on-surface, medium-emphasis-opacity);*/
        }
      }
    }
  }

  .ui_modal_window {
    background: rgba(theme-surface, high-emphasis-opacity);
    color: rgba(theme-on-surface, high-emphasis-opacity);

    .ui_modal_window__header {
      .ui_modal_window__title {
        color: rgba(theme-on-surface, high-emphasis-opacity);
      }

      .ui_modal_window__close {
        .icon {
          fill: rgba(theme-on-surface, high-emphasis-opacity);
        }

        &:hover {
          .icon {
            fill: rgba(theme-primary, high-emphasis-opacity);
          }
        }
      }
    }

    .ui_modal_window__content {
      color: rgba(theme-on-surface, high-emphasis-opacity);
    }

    .ui_modal_window__footer {
      border-top-color: rgba(theme-on-surface, border-opacity);
    }
  }

  .msngrConfirmWindow {
    background: rgba(theme-surface, high-emphasis-opacity);
    color: rgba(theme-on-surface, high-emphasis-opacity);
  }

  /* ********* */
  /* snackbars */
  /* ********* */
  .notify .notify-item {
    background: rgba(theme-surface, high-emphasis-opacity);
    color: rgba(theme-on-surface, high-emphasis-opacity);
  }

  /* ****** */
  /* updown */
  /* ****** */
  .updown::after {
    background-color: rgba(theme-surface, 0.98);
  }

  .updown .updown__icons {
    color: rgba(theme-on-surface, high-emphasis-opacity);
  }

  @keyframes updownShimmer {
    20% {
      fill: rgba(theme-primary, high-emphasis-opacity);
    }
  }

  /* ****** */
  /* header */
  /* ****** */
  .site-header-container {
    background: rgba(theme-surface, high-emphasis-opacity);
    border-block-end-color: rgba(theme-primary, border-opacity);
    border-block-end-style: solid;
    border-block-end-width: thin;

    .site-header {
      --color-text: rgba(theme-on-surface, high-emphasis-opacity);
      background: rgba(theme-surface, high-emphasis-opacity);
      border-block-end-color: rgba(theme-primary, border-opacity);
      border-block-end-style: solid;
      border-block-end-width: thin;

      .site-header-burger:hover {
        color: rgba(theme-primary, high-emphasis-opacity);
        opacity: 1;
      }

      .site-header-logo {
        if (scheme == 'porntf') {
          &::before {
            content: '';
            background: url('data:image/png;base64,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');
            background-repeat: no-repeat;
            background-size: cover;
            width: 107px;
            height: 30px;
          }

          svg {
            display: none;
          }
        }
      }

      /* ************ */
      /* search field */
      /* ************ */
      .search .search__field .v-field__wrapper {
        /* override default rules to prevent :hover background color change.*/
        /* in order to restore default behavior,*/
        /* add :not(:hover).*/
        background: rgba(theme-background, high-emphasis-opacity);
      }

      .head-notifies--showed .head-notifies__toggler .icon,
      .head-notifies__toggler:hover .icon {
        color: rgba(theme-primary, high-emphasis-opacity);
        fill: rgba(theme-primary, high-emphasis-opacity);
      }

      .navigation-user {
        .navigation-user-login {
          &:hover {
            color: rgba(theme-primary, high-emphasis-opacity);
          }
        }
      }

      .v-button {
        color: rgba(theme-primary, high-emphasis-opacity);

        svg {
          color: rgba(theme-primary, high-emphasis-opacity);
        }
      }

      /* ****************** */
      /* floating messenger */
      /* ****************** */
      .navigation-messenger {
        .messenger-panel__down {
          background: rgba(theme-surface, high-emphasis-opacity);
          border: thin solid rgba(theme-primary, border-opacity);
          color: rgba(theme-on-surface, high-emphasis-opacity);

          &-head {
            border-bottom-color: rgba(theme-on-surface, border-opacity);
          }

          .channel-item {
            highlightEffectOnHover();

            &:first-of-type {
              .channel-item__info {
                border-top-color: transparent;
              }
            }

            .channel-item__info {
              border-top: thin solid rgba(theme-primary, border-opacity);
            }
          }

          .channel-item__time {
            color: rgba(theme-on-surface, medium-emphasis-opacity);
          }

          .channel-item__status {
            &--delivered,
            &--read {
              color: rgba(theme-on-surface, medium-emphasis-opacity);
            }
          }

          .messenger-panel__down-footer {
            border-top-color: rgba(theme-on-surface, border-opacity);

            &.t-link-inline {
              color: rgba(theme-on-surface, high-emphasis-opacity);

              &:hover {
                color: rgba(theme-secondary, high-emphasis-opacity);
              }
            }
          }
        }
      }

      /* ********************** */
      /* floating notifications */
      /* ********************** */
      .head-notifies {
        .head-notifies__panel {
          background: rgba(theme-surface, high-emphasis-opacity);
          color: rgba(theme-on-surface, high-emphasis-opacity);

          .notifications__header {
            border-bottom-color: rgba(theme-on-surface, border-opacity);

            .notifications__mark-as-read {
              border-bottom: thin solid transparent;
              color: rgba(theme-secondary, high-emphasis-opacity);

              &:hover {
                border-bottom-color: currentColor;
                color: rgba(theme-notifies-link-color-hover, high-emphasis-opacity);
              }
            }
          }

          .notifications__items {
            .u-notification {
              border-bottom-color: rgba(theme-on-surface, border-opacity);

              highlightEffectOnHover();

              &:hover {
                background: rgba(theme-surface, high-emphasis-opacity);
              }

              &--unread {
                background: rgba(theme-surface, high-emphasis-opacity);

                &::before {
                  content: '';
                  position: absolute;
                  top: 0;
                  left: 0;
                  width: 100%;
                  height: 100%;
                  pointer-events: none;
                  background: currentColor;
                  border-radius: inherit;
                  opacity: hover-opacity;
                }
              }

              .u-notification__image img {
                outline: thin solid rgba(theme-primary, border-opacity);
              }

              .u-notification__content {
                .u-notification__content__title {
                  a:hover {
                    color: rgba(theme-secondary, high-emphasis-opacity);
                  }

                  .u-notification__content__date {
                    color: rgba(theme-on-surface, medium-emphasis-opacity);
                  }
                }

                .u-notification__content__button {
                  color: rgba(theme-secondary, high-emphasis-opacity);

                  &:hover {
                    color: rgba(theme-notifies-link-color-hover, high-emphasis-opacity);
                  }
                }
              }
            }
          }

          .notifications__footer {
            border-top-color: rgba(theme-on-surface, border-opacity);

            .notifications__footer-link {
              color: rgba(theme-on-surface, high-emphasis-opacity);

              &:hover {
                color: rgba(theme-secondary, high-emphasis-opacity);
              }
            }
          }
        }
      }

      /* ************ */
      /* account menu */
      /* ************ */
      .navigation-user-profile .navigation-user-profile__toggle {
        &:hover {
          color: rgba(theme-primary, high-emphasis-opacity);
          opacity: 1;
        }
      }

      .account-menu-root.navigation-user__account-menu--scrollable,
      .account-menu-root.navigation-user__account-menu--scrollable .account-menu__item {
        background: rgba(theme-surface, high-emphasis-opacity);
      }

      .account-menu-root.navigation-user__account-menu--scrollable .account-menu__user-card,
      .account-menu-root.navigation-user__account-menu--scrollable .account-menu__item {
        highlightEffectOnHover();
      }

      .account-menu-root.navigation-user__account-menu--scrollable,
      .account-menu-root.navigation-user__account-menu--scrollable .account-menu__user-card,
      .account-menu-root.navigation-user__account-menu--scrollable .account-menu__user-card .user-card__sub-label,
      .account-menu-root.navigation-user__account-menu--scrollable .account-menu__item {
        color: rgba(theme-on-surface, high-emphasis-opacity);
      }

      .account-menu-root.navigation-user__account-menu--scrollable .account-menu__user-card:hover,
      .account-menu-root.navigation-user__account-menu--scrollable .account-menu__item:hover,
      .account-menu-root.navigation-user__account-menu--scrollable .account-menu__item:hover svg {
        color: rgba(theme-primary, high-emphasis-opacity);
      }

      .account-menu-root {
        .subsites-list {
          &__header {
            background: rgba(theme-surface, high-emphasis-opacity);
          }

          &__back {
            color: rgba(theme-on-surface, high-emphasis-opacity);

            &:hover {
              background-color: rgba(theme-on-surface, hover-opacity);
              color: rgba(theme-primary, high-emphasis-opacity);
            }
          }

          .subsites-list__item {
            &:hover {
              background: rgba(theme-on-surface, hover-opacity);
              color: rgba(theme-primary, high-emphasis-opacity);
            }
          }
        }
      }

      /* ************ */
      /* progress bar */
      /* ************ */
      &-progressbar {
        &__runner {
          background-color: rgba(theme-primary, high-emphasis-opacity);
        }
      }
    }
  }

  /* ******* */
  /* writing */
  /* ******* */
  .main .writing .writing-select .writing-select__current:hover {
    color: rgba(theme-primary, high-emphasis-opacity);
  }

  .main .writing .writing__body .writing__authors,
  .main .writing .writing__body .writing-title,
  .main .writing .writing__body .writing__footer,
  .main .writing .writing__body .writing__footer .writing-footer {
    background: rgba(theme-surface, high-emphasis-opacity);
  }

  .main .writing .writing__body .writing-title {
    color: rgba(theme-on-surface, high-emphasis-opacity);
    --color-placeholder: rgba(theme-on-surface, high-emphasis-opacity);
  }

  .main .writing .writing__body .editor-content .cdx-icon,
  .main .writing .writing__body .editor-content .ce-popover svg,
  .main .writing .writing__body .editor-content .ce-popover .ce-toolbox__item-icon {
    /* TODO: refactor all this bullshit*/
    filter: invert(85%) sepia(0%) saturate(220%) hue-rotate(135deg) brightness(96%) contrast(78%);
  }

  .main .writing .writing__body .editor-content .ce-popover {
    background: rgba(theme-surface, high-emphasis-opacity);
  }

  .main .writing .writing__body .editor-content .ce-toolbox-search {
    background: rgba(theme-background, high-emphasis-opacity);
  }

  .main .writing .writing__body .editor-content .ce-toolbox-search .ce-toolbox-search-icon,
  .main .writing .writing__body .editor-content .ce-toolbox-search .ce-toolbox-search-input {
    color: rgba(theme-on-background, high-emphasis-opacity);
  }

  .main .writing .writing__body .editor-content .ce-toolbox-search .ce-toolbox-search-input::placeholder {
    color: rgba(theme-on-background, medium-emphasis-opacity);
  }

  .main .writing .writing__body .editor-content .ce-popover .ce-toolbox__item--selected,
  .main .writing .writing__body .editor-content .ce-popover .ce-toolbox__item:not(.no-hover):hover {
    background: rgba(theme-on-surface, hover-opacity);
    color: rgba(theme-primary, high-emphasis-opacity);
  }

  .main .writing .writing__body .editor-content .ce-popover .ce-toolbox__item--selected .ce-toolbox__item-icon,
  .main .writing .writing__body .editor-content .ce-popover .ce-toolbox__item:not(.no-hover):hover .ce-toolbox__item-icon {
    filter: getFilterValueBySelectedTheme();
  }

  .main .writing .writing__body .editor-content .ce-popover .ce-toolbox__not-found {
    color: rgba(theme-on-surface, high-emphasis-opacity);
  }

  .main .writing .writing__body .editor-content .ce-popover .ce-block-settings__item--selected,
  .main .writing .writing__body .editor-content .ce-popover .ce-block-settings__item:not(.no-hover):not(.remove-tool--confirm):hover {
    background: rgba(theme-background, high-emphasis-opacity);
    color: rgba(theme-primary, high-emphasis-opacity);
  }

  .main .writing .writing__body .editor-content .ce-popover .ce-block-settings__item--selected svg,
  .main .writing .writing__body .editor-content .ce-popover .ce-block-settings__item:not(.no-hover):hover svg {
    filter: getFilterValueBySelectedTheme();
  }

  .main .writing .writing__body .editor-content .ce-popover .ce-block-settings__item--active,
  .main .writing .writing__body .editor-content .ce-popover .ce-block-settings__item.remove-tool--confirm {
    background: rgba(theme-background, high-emphasis-opacity);
  }

  .main .writing .writing__body .editor-content .ce-popover .ce-block-settings__item.remove-tool--confirm svg,
  .main .writing .writing__body .editor-content .ce-popover .ce-block-settings__item.remove-tool--confirm:hover svg {
    filter: invert(45%) sepia(58%) saturate(3279%) hue-rotate(331deg) brightness(98%) contrast(104%);
  }

  .main .writing .writing__body .editor-content .ce-popover .ce-block-settings__item.remove-tool--confirm:hover {
    background: rgba(70, 45, 45, high-emphasis-opacity) !important;
  }

  .main .writing .writing__body .editor-content .ce-popover .ce-block-settings .anchor-tool__input {
    background: rgba(theme-surface, high-emphasis-opacity);
    color: rgba(theme-on-background, high-emphasis-opacity);
  }

  .main .writing .writing__body .editor-content .ce-popover .ce-block-settings .anchor-tool__input::placeholder {
    color: rgba(theme-on-background, medium-emphasis-opacity);
  }

  .main .writing .writing__body .editor-content a:not(.andropov_link) {
    border: none !important;
    color: rgba(theme-secondary, high-emphasis-opacity) !important;
  }

  .main .writing .writing__body .editor-content .gallery {
    .upload-button {
      background: rgba(theme-surface, high-emphasis-opacity);
      color: rgba(theme-on-surface, high-emphasis-opacity);

      highlightEffectOnActiveHover();

      .upload-button__inner {
        color: rgba(theme-primary, high-emphasis-opacity);
      }
    }
  }

  .main .writing .writing__body .editor-content .gallery .upload-button:hover .upload-button__inner {
    background: unset;
  }

  .main .writing .writing__body .editor-content .andropov_link {
    background: rgba(theme-surface, high-emphasis-opacity);
    border: thin solid rgba(theme-on-background, border-opacity) !important;
    color: rgba(theme-on-surface, high-emphasis-opacity) !important;
  }

  .main .writing .writing__body .editor-content .andropov_link .andropov_link__host,
  .main .writing .writing__body .editor-content .andropov_link .andropov_link__host .icon {
    color: rgba(theme-on-surface, medium-emphasis-opacity);
  }

  .main .writing .writing__body .editor-content .code-tool {
    background: rgba(theme-surface, high-emphasis-opacity);
    border: thin solid rgba(theme-on-background, border-opacity);
  }

  .main .writing .writing__body .editor-content .quote-tool__layout-icon {
    color: rgba(theme-primary, high-emphasis-opacity);
  }

  .main .writing .writing__body .editor-content .code-tool,
  .main .writing .writing__body .editor-content .code-input {
    color: rgba(theme-on-background, high-emphasis-opacity);
  }

  .main .writing__body .inline-search-item--hashtag {
    color: rgba(theme-secondary, high-emphasis-opacity);
  }

  .main .writing .writing__footer .writing-footer__autosave {
    color: rgba(theme-on-surface, high-emphasis-opacity);
  }

  .v-popup-container .v-mobile-menu .v-mobile-menu__header {
    background: rgba(theme-surface, high-emphasis-opacity);
  }

  .v-popup-container .v-mobile-menu .v-mobile-menu__item .v-mobile-menu__icon {
    color: rgba(theme-on-background, high-emphasis-opacity);
  }

  /* ******* */
  /* sidebar */
  /* ******* */
  .sidebar .sidebar__footer::before {
    display: none;
  }

  .sidebar,
  .sidebar .sidebar__footer {
    background: rgba(theme-background, high-emphasis-opacity);
  }

  .sidebar {
    .sidebar-tree-list-item {
      if (hidePopular) {
        &:has(a[href='/popular']) {
          display: none;
          visibility: hidden;
        }
      }

      if (hideNew) {
        &:has(a[href='/new']) {
          display: none;
          visibility: hidden;
        }
      }

      if (hideMyFeed) {
        &:has(a[href='/my/new']) {
          display: none;
          visibility: hidden;
        }
      }

      if (hideUnreadIcon) {
        .sidebar-tree-list-item__unread {
          display: none;
          visibility: hidden;
        }
      }

      if (hideBookmarks) {
        &:has(a[href='/bookmarks']) {
          display: none;
          visibility: hidden;
        }
      }

      if (hideVacancies) {
        &:has(a[href='https://vc.ru/job']) {
          display: none;
          visibility: hidden;
        }
      }

      if (hideRating) {
        &:has(a[href='/rating']) {
          display: none;
          visibility: hidden;
        }
      }

      if (hideSubscription) {
        &:has(a[href='/subs']) {
          display: none;
          visibility: hidden;
        }
      }
    }

    if (hideSidebarFooter) {
      .sidebar__footer {
        display: none;
      }
    }
  }

  .sidebar .sidebar-tree-list .sidebar-tree-list-item,
  .sidebar .sidebar-tree-list .sidebar-tree-list-item__icon,
  .sidebar .sidebar-tree-list .sidebar-tree-list__show-more-button,
  .sidebar .sidebar__footer__container .sidebar__footer__item,
  .sidebar .sidebar__footer__container .sidebar__footer__icons .sidebar__footer__icon {
    color: rgba(theme-on-background, high-emphasis-opacity);
  }

  .sidebar .sidebar-tree-list-item__unread {
    background: rgba(theme-primary, high-emphasis-opacity);
  }

  .sidebar .sidebar-tree-list .sidebar-tree-list-item--active,
  .sidebar .sidebar-tree-list .sidebar-tree-list-item--active:not(.sidebar-tree-list-item--with-active-child) .sidebar-tree-list-item__icon {
    background: rgba(theme-primary, high-emphasis-opacity);
    color: rgba(theme-on-primary, high-emphasis-opacity);
  }

  .sidebar .sidebar-tree-list .sidebar-tree-list-item:not(.sidebar-tree-list-item--hover-disabled):not(.sidebar-tree-list-item--active) {
    highlightEffectOnHover();

    &:hover {
      background: rgba(theme-background, high-emphasis-opacity);
    }
  }

  .sidebar .sidebar-tree-list .sidebar-tree-list-item:hover:not(.sidebar-tree-list-item--active),
  .sidebar .sidebar-tree-list .sidebar-tree-list-item:hover:not(.sidebar-tree-list-item--active) svg {
    color: rgba(theme-primary, high-emphasis-opacity);
  }

  .sidebar .sidebar-tree-list__show-more-button {
    background: transparent;
    border-radius: 8px;
  }

  .sidebar .sidebar-tree-list__show-more-button:hover {
    background: rgba(theme-on-background, hover-opacity);
    color: rgba(theme-primary, high-emphasis-opacity);
  }

  .sidebar .sidebar__footer .sidebar__footer__container .sidebar__footer__item:hover {
    color: rgba(theme-secondary, high-emphasis-opacity);
  }

  .sidebar .sidebar__footer .sidebar__footer__container .sidebar__footer__item.sidebar__footer__item--sponsor span {
    background-image: linear-gradient(90deg, rgba(255, 255, 255, 1) 25%, rgba(255, 255, 255, 1) 100%), linear-gradient(90deg, rgba(theme-secondary, high-emphasis-opacity) 25%, darken(rgba(theme-secondary, high-emphasis-opacity), 20) 100%);
    border-bottom: thin solid transparent;
    color: rgba(theme-secondary, high-emphasis-opacity);

    &:hover {
      border-bottom-color: currentColor;
    }
  }

  .sidebar .sidebar__footer .sidebar__footer__container .sidebar__footer__icons .sidebar__footer__icon:hover {
    color: lighten(theme-on-background, 10);
  }

  .sidebar .sidebar__footer .sidebar__footer__container .sidebar__footer__icons .sidebar__footer__icon.sidebar__footer__icon--twitch {
    color: rgba(theme-twitch, high-emphasis-opacity);
  }

  .sidebar .sidebar__footer .sidebar__footer__container .sidebar__footer__icons .sidebar__footer__icon.sidebar__footer__icon--twitch:hover {
    color: lighten(rgba(theme-twitch), 10, high-emphasis-opacity);
  }

  .sidebar .sidebar__footer .sidebar__footer__container .sidebar__footer__icons .sidebar__footer__icon.sidebar__footer__icon--youtube {
    color: rgba(theme-youtube, high-emphasis-opacity);
  }

  .sidebar .sidebar__footer .sidebar__footer__container .sidebar__footer__icons .sidebar__footer__icon.sidebar__footer__icon--youtube:hover {
    color: lighten(rgba(theme-youtube), 10, high-emphasis-opacity);
  }

  /* **** */
  /* news */
  /* **** */
  .news-widget .news-item .comments_counter {
    color: rgba(theme-on-surface, high-emphasis-opacity);
  }

  .news-widget .news-item .comments_counter--has_new .comments_counter__count__value_new {
    color: rgba(theme-secondary, high-emphasis-opacity);
  }

  .news-widget .news-item .comments_counter__count__ico::before {
    --bg-color: rgba(theme-secondary, high-emphasis-opacity);
  }

  .news-widget .news-item .comments_counter:hover,
  .news-widget .news-item a:hover {
    color: rgba(theme-secondary, high-emphasis-opacity);
  }

  .news-widget .news-widget__load-more:hover {
    color: rgba(theme-secondary, high-emphasis-opacity);
  }

  /* **** */
  /* live */
  /* **** */
  .layout__right-column div {
    color: rgba(theme-on-background, high-emphasis-opacity);
  }

  .layout__right-column a:nth-child(2) {
    color: rgba(theme-on-background, medium-emphasis-opacity);
  }

  .layout__right-column a:hover,
  .layout__right-column a:hover span {
    color: rgba(theme-secondary, high-emphasis-opacity);
  }

  /* ********* */
  /* feed/post */
  /* ********* */
  .main {
    .feed__sorting-items {
      .ui-rounded-button__link {
        color: rgba(theme-on-background, high-emphasis-opacity);
      }
    }

    .subsite-header {
      .v-header-actions {
        .etc_control {
          color: rgba(theme-on-surface, high-emphasis-opacity);

          &:hover {
            color: rgba(theme-primary, high-emphasis-opacity);
          }
        }

        .v-subscribe-button--notifications-enabled {
          .icon--bell {
            color: rgba(theme-primary, high-emphasis-opacity);
          }

          &:hover {
            .icon--bell {
              color: rgba(theme-on-primary, high-emphasis-opacity);
            }
          }
        }
      }

      .t-link-inline {
        border-bottom: thin solid transparent;
        color: rgba(theme-secondary, high-emphasis-opacity);

        &:hover {
          border-bottom-color: currentColor;
        }
      }

      .v-header-description a {
        border-bottom: thin solid transparent;
        color: rgba(theme-secondary, high-emphasis-opacity);

        &:hover {
          border-bottom-color: currentColor;
        }
      }
    }

    .subsite-settings {
      .settings-header {
        color: rgba(theme-on-surface, high-emphasis-opacity);

        &:hover {
          color: rgba(theme-primary, high-emphasis-opacity);
        }
      }
    }

    .mini-editor {
      .mini-editor__placeholder {
        color: rgba(theme-on-surface, high-emphasis-opacity);
      }

      .mini-editor__button {
        background: rgba(theme-surface, high-emphasis-opacity);
        border: thin solid rgba(theme-on-surface, border-opacity);
        color: rgba(theme-on-surface, high-emphasis-opacity);

        highlightEffectOnHover();
      }
    }

    .subsite-sidebar {
      .v-island__header {
        .v-island__counter {
          color: rgba(theme-on-surface, medium-emphasis-opacity);
        }
      }
    }

    .content-header {
      .content-header-label--draft {
        background: rgba(theme-primary, high-emphasis-opacity);
        color: rgba(theme-on-primary, high-emphasis-opacity);
      }
    }

    .content-header-repost,
    .content-header .etc_control {
      color: rgba(theme-on-surface, high-emphasis-opacity);
    }

    .content-header-number,
    .content-header-promoted {
      color: rgba(theme-on-surface, medium-emphasis-opacity);
    }

    .content-header-author:hover,
    .content-header-number:hover time {
      color: rgba(theme-secondary, high-emphasis-opacity);
    }

    .content-header .etc_control:hover {
      color: rgba(theme-primary, high-emphasis-opacity);
    }

    .content-title .content-editorial-tick {
      color: rgba(theme-primary, high-emphasis-opacity);
    }

    .content .block-warning {
      background: rgba(theme-background, high-emphasis-opacity);
      color: rgba(theme-on-background, high-emphasis-opacity);
    }

    .content a:not(:has(.content-editorial-tick)):not(.content-link):not(.content-header a):not(.comments_counter a) {
      border-bottom: thin solid transparent;
      color: rgba(theme-secondary, high-emphasis-opacity);

      &:hover {
        border-bottom-color: currentColor;
      }
    }

    .content .andropov_link {
      border: thin solid rgba(theme-on-surface, border-opacity) !important;
      color: rgba(theme-on-surface, high-emphasis-opacity) !important;
    }

    .content .andropov_link .andropov_link__host,
    .content .andropov_link .andropov_link__host .icon {
      color: rgba(theme-on-surface, medium-emphasis-opacity);
    }

    .content .andropov_telegram {
      background: rgba(theme-background, medium-emphasis-opacity);
      border: thin solid rgba(theme-on-background, border-opacity);

      .andropov_telegram__header {
        .andropov_telegram__user {
          &:hover {
            .andropov_telegram__user__name {
              color: rgba(theme-secondary, high-emphasis-opacity);
            }
          }
        }

        .andropov_telegram__date {
          &:hover {
            time {
              color: rgba(theme-secondary, medium-emphasis-opacity);
            }
          }

          time {
            color: rgba(theme-on-surface, medium-emphasis-opacity);
          }
        }
      }
    }

    .content .andropov_tweet {
      background: rgba(theme-background, medium-emphasis-opacity);
      border: thin solid rgba(theme-on-background, border-opacity);

      .andropov_telegram__header {
        .andropov_telegram__user {
          &:hover {
            .andropov_telegram__user__name {
              color: rgba(theme-secondary, high-emphasis-opacity);
            }
          }
        }

        .andropov_telegram__date {
          &:hover {
            time {
              color: rgba(theme-secondary, medium-emphasis-opacity);
            }
          }

          time {
            color: rgba(theme-on-surface, medium-emphasis-opacity);
          }
        }
      }
    }

    .content .block-hidden-wrapper::before {
      background: transparent;
    }

    .content .block-hidden {
      if (blurredSpoilers) {
        backdrop-filter: blur(18px) grayscale(60%) contrast(60%) brightness(32%);
        background-color: rgba(theme-surface, disabled-opacity);
        border-radius: unset;
      }
      else {
        background-color: rgba(theme-background, high-emphasis-opacity);
      }

      &.block-hidden--low {
        if (blurredSpoilers) {
          backdrop-filter: blur(6px);
        }
      }

      .block-hidden__text {
        display: none;         /* background: rgba(theme-surface, high-emphasis-opacity);
        border-radius: 8px;
        color: rgba(theme-on-surface, high-emphasis-opacity);
        padding: 4px 12px; */
      }

      .block-hidden__button {
        border-radius: 8px;
        color: rgba(theme-primary, high-emphasis-opacity);
        padding: 4px 12px;

        highlightEffectOnActiveHover();
      }
    }

    .content .block-incut {
      background-color: rgba(theme-background, medium-emphasis-opacity);
    }

    .content .gall {
      background-color: rgba(theme-surface, high-emphasis-opacity);
    }

    .content .gall .gall__item:nth-child(even) {
      border-right: 2px solid rgba(theme-surface, high-emphasis-opacity);
    }

    .content .gall .gall__item:nth-child(odd) {
      border-left: 2px solid rgba(theme-surface, high-emphasis-opacity);
    }

    .content .block-quote__content .icon {
      color: rgba(theme-primary, high-emphasis-opacity);
    }

    .content .block-code {
      background: rgba(theme-background, medium-emphasis-opacity);
      border: thin solid rgba(theme-on-background, border-opacity);
      color: rgba(theme-on-background, high-emphasis-opacity);
    }

    .content .block-audio {
      background: rgba(theme-background, medium-emphasis-opacity);
      border: thin solid rgba(theme-on-background, border-opacity);
    }

    .content .block-audio .audio_player__control .audio_player__control--title {
      .text_loop__grd--l {
        background-image: linear-gradient(to right, rgba(theme-background, high-emphasis-opacity), rgba(theme-background, 0));
      }

      .text_loop__grd--r {
        background-image: linear-gradient(to left, rgba(theme-background, high-emphasis-opacity), rgba(theme-background, 0));
      }
    }

    .content .block-audio .audio_player__control .audio_player__control--duration,
    .content .block-audio .audio_player__control .audio_player__control--listens {
      color: rgba(theme-on-background, medium-emphasis-opacity);
    }

    .content .block-audio .audio_player__control .audio_player__control__slider__bg {
      background-color: rgba(theme-on-background, high-emphasis-opacity);
    }

    .content .block-audio .audio_player__control .audio_player__control__slider__bg .audio_player__control__slider__bar {
      background-color: rgba(theme-primary, high-emphasis-opacity);
    }

    .content .block-audio .audio_player__control .audio_player__control__panel {
      background-color: rgba(34, 34, 34, high-emphasis-opacity);
    }

    .content .block-audio .audio_player__control .audio_player__control__rwd,
    .content .block-audio .audio_player__control .audio_player__control__fwd,
    .content .block-audio .audio_player__control .audio_player__control__play,
    .content .block-audio .audio_player__control .audio_player__control__pause,
    .content .block-audio .audio_player__control .audio_player__control__rate,
    .content .block-audio .audio_player__control .audio_player__control__mute {
      color: rgba(theme-on-background, high-emphasis-opacity);
    }

    .content .block-audio .audio_player__control .audio_player__control__rwd:hover,
    .content .block-audio .audio_player__control .audio_player__control__fwd:hover,
    .content .block-audio .audio_player__control .audio_player__control__play:hover,
    .content .block-audio .audio_player__control .audio_player__control__pause:hover,
    .content .block-audio .audio_player__control .audio_player__control__rate:hover,
    .content .block-audio .audio_player__control .audio_player__control__volume:hover,
    .content .block-audio .audio_player__control .audio_player__control__mute:hover,
    .content .block-audio .audio_player__control--download:hover {
      color: rgba(theme-primary, high-emphasis-opacity) !important;
    }

    .content .quiz {
      background-color: rgba(theme-background, medium-emphasis-opacity);
    }

    .content .quiz--loading .quiz__loader {
      background-color: rgba(theme-background, high-emphasis-opacity);
    }

    .content .quiz .quiz__item .quiz__item__check,
    .content .quiz .quiz__item:hover .quiz__item__check {
      border: solid rgba(theme-primary, high-emphasis-opacity);
    }

    .content .quiz .quiz__item__label__percent {
      color: rgba(theme-on-background, high-emphasis-opacity);
    }

    .content .quiz .quiz__item__result .quiz__item__voted__count {
      color: rgba(theme-primary, high-emphasis-opacity);
    }

    .content .quiz__item__progressbar {
      background-color: rgba(theme-primary, high-emphasis-opacity);
    }

    .content .quiz__item__progressbar .quiz__item__progressbar__runner {
      background-color: rgba(theme-primary, high-emphasis-opacity);
    }

    .content .quiz__panel .quiz__panel__button {
      color: rgba(theme-on-background, high-emphasis-opacity);
    }

    .content .quiz__panel .quiz__panel__button .quiz__panel__button__label {
      border-bottom: 1px dotted rgba(theme-primary, border-opacity);
    }

    .content .quiz__panel .quiz__panel__button .quiz__panel__button__label:hover {
      border-bottom: 1px dotted rgba(theme-secondary, high-emphasis-opacity);
      color: rgba(theme-secondary, high-emphasis-opacity);
    }

    .content .block-number {
      background: rgba(theme-background, medium-emphasis-opacity);
    }

    .content .block-person .block-person__image {
      box-shadow: 0 0 0 1px rgba(theme-on-surface, idle-opacity);
    }

    if (hideStat) {
      .post-counters {
        display: none;
      }
    }

    .post-counters .post-counters__item .post-counters__value {
      color: rgba(theme-on-surface, high-emphasis-opacity);
    }

    .post-counters .post-counters__item .post-counters__label {
      color: rgba(theme-on-surface, medium-emphasis-opacity);
    }

    .post-counters .post-counters__item:hover {
      opacity: 1;
    }

    .post-counters .post-counters__item:hover .post-counters__value,
    .post-counters .post-counters__item:hover .post-counters__label {
      color: rgba(theme-secondary, high-emphasis-opacity);
    }

    .content-footer .content-footer__item .like-button:not(:hover),
    .content-footer .content-footer__item .comments_counter:not(:hover),
    .content-footer .content-footer__item .v-repost:not(:hover) > * {
      color: rgba(theme-on-surface, high-emphasis-opacity);
    }

    .content-footer .content-footer__item .comments_counter .comments_counter__count__ico::before,
    .content-footer .content-footer__item .v-repost .v-repost__button::before,
    .content-footer .content-footer__item .bookmark::before {
      --bg-color: rgba(theme-secondary, high-emphasis-opacity);
    }

    .content-footer .content-footer__item .comments_counter .comments_counter__count__value_new {
      color: rgba(theme-secondary, high-emphasis-opacity);
    }

    .content-footer .content-footer__item .comments_counter:hover,
    .content-footer .content-footer__item .v-repost:hover > *,
    .content-footer .content-footer__item .bookmark:hover {
      --text-color: rgba(theme-secondary, high-emphasis-opacity);
    }

    .content-footer .content-footer__item .bookmark:not(:hover) .icon {
      fill: currentColor;
    }

    .feed__horizon {
      background: rgba(theme-surface, high-emphasis-opacity);
    }
  }

  /* **** */
  /* post */
  /* **** */
  .page.page--entry {
    padding-top: 16px;

    .dstr-fl {
      .dstr-fl__outer {
        /* i have no idea what the heck that is*/
        /* next time please write descriptions you stupid square.*/
        /* found it, this is the floating advertise at the top of the page*/
        background: rgba(theme-surface, high-emphasis-opacity);
        color: rgba(theme-on-surface, high-emphasis-opacity);

        &::after {
          background: rgba(theme-primary, border-opacity);
        }

        .dstr-fl__text-link {
          border-bottom: thin solid transparent;
          color: rgba(theme-on-surface, high-emphasis-opacity);

          &:hover {
            color: rgba(theme-secondary, high-emphasis-opacity);
            opacity: 1;
          }
        }
      }
    }

    .content-header-number:hover time {
      color: unset;
    }

    .l-entry {
      &.l-island-round:not(:first-child) {
        border-radius: 8px;
      }

      .l-entry__content {
        .content {
          .content-info {
            .comments_counter {
              &:hover {
                --text-color: rgba(theme-secondary, high-emphasis-opacity);
              }

              &:not(:hover),
              .comments_counter__count__ico::before {
                --bg-color: rgba(theme-secondary, high-emphasis-opacity);
                color: rgba(theme-on-surface, high-emphasis-opacity);
              }

              .comments_counter__count__value_new {
                color: rgba(theme-secondary, high-emphasis-opacity);
              }
            }

            .bookmark {
              &:hover {
                --text-color: rgba(theme-secondary, high-emphasis-opacity);
              }

              &:not(:hover) .icon {
                fill: rgba(theme-on-surface, high-emphasis-opacity);
              }

              &::before {
                --bg-color: rgba(theme-secondary, high-emphasis-opacity);
              }
            }

            .views {
              color: rgba(theme-on-surface, high-emphasis-opacity);
              fill: rgba(theme-on-surface, high-emphasis-opacity);
            }
          }
        }
      }
    }

    .subsite-card-entry {
      .subsite-card {
        .subsite-card-title {
          .subsite-card-title__item--name {
            &:hover {
              color: rgba(theme-secondary, high-emphasis-opacity);
            }
          }
        }

        .t-link-classic {
          border-bottom: thin solid transparent;
          color: rgba(theme-secondary, high-emphasis-opacity);

          &:hover {
            border-bottom-color: currentColor;
          }
        }
      }
    }
  }

  /* ******** */
  /* comments */
  /* ******** */
  #updates_arrows path {
    stroke: rgba(theme-primary, high-emphasis-opacity);
  }

  .page .comments {
    .comments_updates {
      background: rgba(theme-background, medium-emphasis-opacity);
      box-shadow: 0 2px 5px rgba(theme-primary, 0.15), 0 0 1px rgba(theme-primary, 0.25);
      color: rgba(theme-primary, high-emphasis-opacity);

      &:hover {
        background: rgba(theme-background, high-emphasis-opacity);
      }

      .comments_updates__counter {
        background: rgba(theme-primary, high-emphasis-opacity);
        color: rgba(theme-surface, high-emphasis-opacity);
      }
    }

    .comment--highlighted,
    .comment--with-donate {
      --background-color: darken(rgba(theme-surface, high-emphasis-opacity), hover-opacity * 100);
    }

    .comments__body {
      .comments-header {
        .comments-header__actions {
          .comments-header__action {
            &--active {
              color: rgba(theme-primary, high-emphasis-opacity);
            }
          }
        }
      }

      .comment {
        --color-branch-hover: rgba(theme-primary, high-emphasis-opacity);
        --color-inline-action: rgba(theme-secondary, high-emphasis-opacity);

        &.comment--new {
          --background-color: darken(rgba(theme-surface, high-emphasis-opacity), hover-opacity * 100);

          if (roundedCorners) {
            &:not(.comment--new + .comment--new):has(+ .comment) {
              & .comment__branches::before {
                border-top-left-radius: 8px;
              }

              & .comment__content::before {
                border-top-right-radius: 8px;
              }
            }

            &:has(+ .comment:not(.comment--new)) {
              & .comment__branches::before {
                border-bottom-left-radius: 8px;
              }

              & .comment__content::before {
                border-bottom-right-radius: 8px;
              }
            }

            &:last-of-type {
              & .comment__branches::before {
                border-bottom-left-radius: 8px;
              }

              & .comment__content::before {
                border-bottom-right-radius: 8px;
              }
            }
          }
        }

        if (roundedCorners) {
          &.comment--highlighted {
            .comment__branches::before,
            .comment__content::before {
              --border-radius: 8px;
            }
          }
        }

        .comment__detail,
        .comment__icon,
        .comment__content button,
        .comment__action {
          color: rgba(theme-on-surface, medium-emphasis-opacity);

          &:hover {
            color: var(--color-inline-action);
          }
        }

        .comment__detail--author {
          color: var(--color-inline-action);
        }

        .andropov_link {
          border: thin solid rgba(theme-on-background, border-opacity) !important;
          color: rgba(theme-on-surface, high-emphasis-opacity) !important;

          .andropov_link__host,
          .andropov_link__host .icon {
            color: rgba(theme-on-surface, medium-emphasis-opacity);
          }
        }

        .comment__text a {
          border-bottom: thin solid transparent;
          color: rgba(theme-secondary, high-emphasis-opacity);

          &:hover {
            border-bottom-color: currentColor;
          }
        }

        .comment__load-more,
        .comment__expand-branch {
          border-bottom: thin solid transparent;
          color: rgba(theme-secondary, high-emphasis-opacity);

          &:not(:has(.ui_preloader)) {
            &:hover {
              border-bottom-color: currentColor;
            }
          }
        }
      }

      .comment-writing {
        .comment-form {
          background: rgba(theme-background, disabled-opacity);
          border: thin solid rgba(theme-primary, border-opacity);
          color: rgba(theme-on-surface, high-emphasis-opacity);
          transition: border-color 0.25s standard-easing;

          &:hover {
            border-color: rgba(theme-primary, border-opacity * 2);
            box-shadow: unset;
          }

          &--focused {
            border-color: rgba(theme-primary, high-emphasis-opacity) !important;
          }
        }

        .comment-form .comment-form__editor .thesis .thesis__placeholder,
        .comment-form .comment-form__editor .thesis .thesis__custom_button {
          color: rgba(theme-on-surface, medium-emphasis-opacity);
        }

        .comment-form .comment-form__editor .thesis .thesis__custom_button {
          border-radius: 8px;
          padding: 8px 16px;
          opacity: 1;

          highlightEffectOnHover();
        }

        .thesis .thesis__attaches .thesis__attach_something {
          background: unset;

          highlightEffectOnHover();
        }

        .herzen {
          ce-command[data-command_name = 'user'] {
            color: rgba(theme-secondary, high-emphasis-opacity);
          }

          .herzen__command_list {
            background: rgba(theme-surface, high-emphasis-opacity);
            border: thin solid rgba(theme-primary, border-opacity);
            color: rgba(theme-on-surface, high-emphasis-opacity);

            .herzen__command_list__item {
              background: rgba(theme-surface, high-emphasis-opacity);
              border-bottom-color: rgba(theme-on-surface, border-opacity);

              highlightEffectOnHover();

              &--selected {
                highlightEffectOnActiveHover();
              }
            }
          }
        }
      }

      if (automaticallyExpandCommentsBlock) {
        .comments__content_wrapper__container {
          height: auto !important;
        }

        .comments__content_wrapper__button {
          display: none;
          visibility: hidden;
        }
      }

      .comments__show-all {
        border-bottom: thin solid transparent;
        color: rgba(theme-secondary, high-emphasis-opacity);

        &:hover {
          border-bottom-color: currentColor;
          opacity: 1;
        }

        &-always {
          border-bottom: thin solid transparent;
          color: rgba(theme-secondary, high-emphasis-opacity);

          span {
            background-image: radial-gradient(82.73% 121.53% at 17.94% 77.44%, rgba(theme-secondary, high-emphasis-opacity) 36.98%, darken(rgba(theme-secondary, high-emphasis-opacity), 15) 89.06%);
          }

          &:hover {
            border-bottom-color: currentColor;
            opacity: 1;
          }
        }
      }

      .comments__link_to_all {
        background: rgba(theme-background, medium-emphasis-opacity);

        .t-link-classic {
          border-bottom: thin solid transparent;
          color: rgba(theme-secondary, high-emphasis-opacity);

          &:hover {
            border-bottom-color: currentColor;
          }
        }
      }
    }

    .comments__header,
    .comments__footer {
      .comments_pseudo_form {
        background: rgba(theme-background, disabled-opacity);
        border: thin solid rgba(theme-primary, border-opacity);
        transition: border-color 0.25s standard-easing;

        &:hover {
          border-color: rgba(theme-primary, border-opacity * 2);
        }
      }

      .comments_pseudo_form .comments_pseudo_form__text {
        color: rgba(theme-on-surface, medium-emphasis-opacity);
      }
    }
  }

  /* *************** */
  /* recommendations */
  /* *************** */
  .recommendation-feed {
    if (hideRecommendationFeed) {
      display: none;
      visibility: hidden;
    } else {
      .recommendation-tabs {
        background: rgba(theme-surface, high-emphasis-opacity);

        &::before {
          background-image: linear-gradient(-90deg, rgba(theme-surface, 0) 0%, rgba(theme-surface, high-emphasis-opacity) 40%);
        }

        &::after {
          background-image: linear-gradient(90deg, rgba(theme-surface, 0) 0%, rgba(theme-surface, high-emphasis-opacity) 40%);
        }
      }

      .recommendation-feed__line {
        background: rgba(theme-on-surface, border-opacity);
      }
    }
  }

  /* ********* */
  /* vacancies */
  /* ********* */
  .vacancies_widget {
    if (hideVacanciesWidget) {
      display: none;
    } else {
      background: rgba(theme-surface, high-emphasis-opacity);

      .vacancies_widget__title {
        border-bottom: thin solid transparent;
        color: rgba(theme-secondary, high-emphasis-opacity);

        &:hover {
          border-bottom-color: currentColor;
        }
      }

      .vacancies_widget__item {
        &__company,
        &__city,
        &__salary {
          color: rgba(theme-on-background, high-emphasis-opacity);
        }

        &__title,
        &__company,
        &__city {
          &:hover {
            color: rgba(theme-secondary, high-emphasis-opacity);
          }
        }
      }

      &__load_more:hover {
        color: rgba(theme-secondary, high-emphasis-opacity);
      }

      &__all:hover {
        color: rgba(theme-secondary, high-emphasis-opacity);
      }
    }
  }

  /* ************* */
  /* best comments */
  /* ************* */
  .main {
    .widget_wrapper {
      background: rgba(theme-surface, high-emphasis-opacity);

      .widget_wrapper__title {
        color: rgba(theme-on-surface, high-emphasis-opacity);
      }

      .widget_comment {
        .widget_comment__head {
          .widget_comment__label {
            color: rgba(theme-on-surface, medium-emphasis-opacity);
          }
        }
      }
    }
  }

  /* ******* */
  /* gallery */
  /* ******* */
  .pswp {
    .gl__container {
      .gl__footer {
        background: rgba(theme-surface, high-emphasis-opacity);
        color: rgba(theme-on-surface, high-emphasis-opacity);

        .gl__counter {
          color: rgba(theme-on-surface, medium-emphasis-opacity);
        }
      }
    }
  }

  /* **************** */
  /* profile comments */
  /* **************** */
  .main {
    .feed {
      .profile_comment_favorite {
        .profile_comment_favorite__title {
          &:hover {
            color: rgba(theme-secondary, high-emphasis-opacity);
          }
        }

        .profile_comment_favorite__header {
          .profile_comment_favorite__user {
            &:hover {
              color: rgba(theme-secondary, high-emphasis-opacity);
            }
          }

          .profile_comment_favorite__date {
            .time {
              color: rgba(theme-on-surface, medium-emphasis-opacity);

              &:hover {
                color: rgba(theme-secondary, high-emphasis-opacity);
              }
            }
          }

          .vote:not(.vote--sum-positive):not(.vote--sum-negative) {
            color: rgba(theme-on-surface, medium-emphasis-opacity);
          }
        }

        .profile_comment_favorite__text {
          a {
            border-bottom: thin solid transparent;
            color: rgba(theme-secondary, high-emphasis-opacity);

            &:hover {
              border-bottom-color: currentColor;
            }
          }
        }

        .profile_comment_favorite__footer {
          align-items: center;
          display: flex;
          gap: 20px;

          .profile_comment_favorite__footer__reply {
            color: rgba(theme-on-surface, high-emphasis-opacity);
            padding: 0;
            margin: 0;

            &:hover {
              color: rgba(theme-secondary, high-emphasis-opacity);
            }
          }

          .bookmark {
            top: 0;
            padding: 0;
            margin: 0;

            &:hover {
              .icon {
                fill: rgba(theme-secondary, high-emphasis-opacity);
              }
            }

            &::before {
              --bg-color: rgba(theme-secondary, high-emphasis-opacity);
            }

            .icon {
              fill: rgba(theme-on-surface, high-emphasis-opacity);
            }
          }

          .etc_control {
            color: rgba(theme-on-surface, high-emphasis-opacity);
            height: 18px;
            width: 18px;
            display: flex;
            align-items: center;

            &:hover {
              color: rgba(theme-secondary, high-emphasis-opacity);
            }
          }
        }
      }
    }
  }

  /* ******** */
  /* settings */
  /* ******** */
  .user-settings {
    .user-settings__content {
      .settings-header {
        color: rgba(theme-on-surface, high-emphasis-opacity);

        &:hover {
          color: rgba(theme-primary, high-emphasis-opacity);
        }
      }

      .t-link-inline {
        border-bottom: thin solid transparent;
        color: rgba(theme-secondary, high-emphasis-opacity);

        &:hover {
          border-bottom-color: currentColor;
        }
      }

      .social-links__item {
        background: rgba(theme-background, high-emphasis-opacity);

        &:hover {
          background: lighten(rgba(theme-background, high-emphasis-opacity), hover-opacity * 100);
        }
      }
    }

    .user-settings__dev-tools {
      color: rgba(theme-on-background, high-emphasis-opacity);

      &:hover {
        color: rgba(theme-secondary, high-emphasis-opacity);
      }
    }
  }

  /* **** */
  /* subs */
  /* **** */
  .subsites_catalog {
    .subsites_catalog__search {
      .icon {
        color: rgba(theme-on-surface, high-emphasis-opacity);
      }

      .subsites_catalog__search__bar {
        background: rgba(theme-surface, high-emphasis-opacity);
        color: rgba(theme-on-surface, high-emphasis-opacity);

        &::placeholder {
          background: rgba(theme-surface, high-emphasis-opacity);
          color: rgba(theme-on-surface, medium-emphasis-opacity);
        }
      }
    }

    .subsites_catalog__content {
      .subsites_catalog__open_wrapped {
        color: rgba(theme-on-surface, high-emphasis-opacity);

        &:hover {
          color: rgba(theme-secondary, high-emphasis-opacity);
        }
      }

      .subsites_catalog__label {
        color: rgba(theme-on-surface, high-emphasis-opacity);
      }
    }
  }

  /* ****** */
  /* search */
  /* ****** */
  .search-feed {
    .content {
      .content-container {
        mark {
          background: rgba(theme-primary, medium-emphasis-opacity);
          border-radius: 2px;
          padding: 0.09em 0.2em;
        }
      }
    }
  }

  .search-content {
    .t-link-site {
      border-bottom: thin solid transparent;
      color: rgba(theme-secondary, high-emphasis-opacity);

      &:hover {
        border-bottom-color: currentColor;
      }
    }
  }

  .services-sidebar__filters {
    .contentFilters {
      .search-filter {
        .search-filter__title {
          color: rgba(theme-on-surface, high-emphasis-opacity);
        }
      }

      .contentFilters__footer {
        background: rgba(theme-surface, high-emphasis-opacity);
      }
    }
  }

  /* ********* */
  /* messenger */
  /* ********* */
  .messenger {
    .messenger__aside {
      background: rgba(theme-surface, high-emphasis-opacity);

      .aside__header {
        border-bottom-color: rgba(theme-on-surface, border-opacity);

        .aside-search {
          color: rgba(theme-on-surface, high-emphasis-opacity);

          input {
            background: rgba(theme-surface, high-emphasis-opacity);
            color: rgba(theme-on-surface, high-emphasis-opacity);

            &::placeholder {
              color: rgba(theme-on-surface, medium-emphasis-opacity);
            }
          }
        }

        .aside__header-button {
          color: rgba(theme-primary, high-emphasis-opacity);

          path {
            fill: currentColor;
          }
        }
      }

      .channel-item {
        color: rgba(theme-on-surface, high-emphasis-opacity);

        &:hover {
          background: lighten(rgba(theme-surface, high-emphasis-opacity), hover-opacity * 100);
        }

        &--current {
          background: lighten(rgba(theme-surface, high-emphasis-opacity), hover-opacity * 100);
        }

        &:not(:first-of-type) {
          .channel-item__info {
            border-top-color: rgba(theme-on-surface, border-opacity);
          }
        }

        .channel-item__info-first-line {
          .channel-item__time {
            color: rgba(theme-on-surface, medium-emphasis-opacity);
          }
        }

        .channel-item__info-second-line {
          .channel-item__status {
            color: rgba(theme-on-surface, medium-emphasis-opacity);
          }
        }
      }
    }

    .chat-placeholder {
      background: rgba(theme-surface, high-emphasis-opacity);

      .chat-placeholder__content {
        color: rgba(theme-on-surface, high-emphasis-opacity);
      }
    }

    .messenger__chat {
      background: rgba(theme-surface, high-emphasis-opacity);

      .chat__header {
        .chat-header-info__subline {
          color: rgba(theme-on-surface, medium-emphasis-opacity);
        }

        .chat__header-right {
          .v-etc-button__button {
            opacity: 1;

            &:hover {
              color: rgba(theme-primary, high-emphasis-opacity);
            }
          }
        }
      }

      .chat-messages {
        .chat-messages__day span {
          background: rgba(theme-background, medium-emphasis-opacity);
          color: rgba(theme-on-background, high-emphasis-opacity);
        }

        .message {
          &--selected {
            background: rgba(theme-on-surface, selected-opacity);

            .message__actions-select {
              background: rgba(theme-primary, high-emphasis-opacity);
              border-color: rgba(theme-primary, high-emphasis-opacity);
            }
          }

          .message__status {
            color: rgba(theme-on-surface, medium-emphasis-opacity);

            &--read {
              color: rgba(theme-primary, high-emphasis-opacity);
            }
          }

          .message__time {
            color: rgba(theme-on-surface, medium-emphasis-opacity);
          }

          &:not(.message--selected) .message__actions-select {
            border-color: rgba(theme-on-surface, high-emphasis-opacity);
          }

          .message__content .message__content-text a {
            color: rgba(theme-secondary, high-emphasis-opacity);
          }
        }
      }

      .chat-form {
        .chat-form__attach {
          color: rgba(theme-on-surface, high-emphasis-opacity);

          &:hover {
            color: rgba(theme-primary, high-emphasis-opacity);
          }
        }

        .chat-form__content {
          .chat-form__textarea {
            background: rgba(theme-surface, high-emphasis-opacity);
            color: rgba(theme-on-surface, high-emphasis-opacity);

            &::placeholder {
              color: rgba(theme-on-surface, medium-emphasis-opacity);
            }
          }
        }

        .emoji-picker {
          .emoji-picker__invoker {
            color: rgba(theme-on-surface, high-emphasis-opacity);

            &:hover {
              color: rgba(theme-primary, high-emphasis-opacity);
            }
          }
        }

        .chat-form__send {
          color: rgba(theme-primary, high-emphasis-opacity);

          &--disabled {
            color: rgba(theme-on-surface, disabled-opacity);
          }
        }
      }

      .chat-bottom-actions {
        .chat-bottom-actions__button {
          border-radius: 8px;

          highlightEffectOnHover();

          &:not(.chat-bottom-actions__button--red) {
            color: rgba(theme-primary, high-emphasis-opacity);
          }
        }

        .chat-bottom-actions__right {
          .chat-bottom-actions__right-label {
            color: rgba(theme-on-surface, medium-emphasis-opacity);
          }

          .chat-bottom-actions__right-button {
            border-bottom-color: rgba(theme-primary, high-emphasis-opacity);

            &:hover {
              border-bottom-style: solid;
              opacity: 1;
            }

            .chat-bottom-actions__right-label {
              color: rgba(theme-primary, high-emphasis-opacity);
            }
          }
        }
      }
    }
  }

  /* ************* */
  /* notifications */
  /* ************* */
  .notifications {
    .notifications__header {
      border-bottom-color: rgba(theme-on-surface, border-opacity);

      .notifications__mark-as-read {
        border-bottom: thin solid transparent;
        color: rgba(theme-secondary, high-emphasis-opacity);

        &:hover {
          border-bottom-color: currentColor;
          color: rgba(theme-notifies-link-color-hover, high-emphasis-opacity);
        }
      }
    }

    .notifications__items-container {
      .notifications__items {
        .u-notification {
          border-bottom-color: rgba(theme-on-surface, border-opacity);

          highlightEffectOnHover();

          &:hover {
            background: rgba(theme-surface, high-emphasis-opacity);
          }

          &--unread {
            background: rgba(theme-surface, high-emphasis-opacity);

            &::before {
              content: '';
              position: absolute;
              top: 0;
              left: 0;
              width: 100%;
              height: 100%;
              pointer-events: none;
              background: currentColor;
              border-radius: inherit;
              opacity: hover-opacity;
            }
          }

          .u-notification__image img {
            outline: thin solid rgba(theme-primary, border-opacity);
          }

          .u-notification__content {
            .u-notification__content__title {
              a:hover {
                color: rgba(theme-secondary, high-emphasis-opacity);
              }

              .u-notification__content__date {
                color: rgba(theme-on-surface, medium-emphasis-opacity);
              }
            }

            .u-notification__content__button {
              color: rgba(theme-secondary, high-emphasis-opacity);

              &:hover {
                color: rgba(theme-notifies-link-color-hover, high-emphasis-opacity);
              }
            }
          }
        }
      }
    }
  }

  /* **** */
  /* auth */
  /* **** */
  .auth {
    .auth__controls-container {
      background: rgba(theme-surface, high-emphasis-opacity);

      .auth__back {
        color: rgba(theme-on-surface, high-emphasis-opacity);
        opacity: 1;

        &:hover {
          color: rgba(theme-primary, high-emphasis-opacity);
        }
      }
    }

    .auth-social__hint-text {
      color: rgba(theme-on-surface, medium-emphasis-opacity);
    }

    .t-link-inline {
      border-bottom: thin solid transparent;
      color: rgba(theme-secondary, high-emphasis-opacity);

      &:hover {
        border-bottom-color: currentColor;
      }
    }
  }

  /* ****************** */
  /* floating messenger */
  /* ****************** */
  .m-floating {
    .m-floating__header,
    .m-floating__content {
      background: rgba(theme-surface, high-emphasis-opacity);
      color: rgba(theme-on-surface, high-emphasis-opacity);
    }

    .m-floating__header {
      highlightEffectOnHover();

      &:hover {
        background: rgba(theme-surface, high-emphasis-opacity);
      }
    }

    .m-floating__content {
      .chat__container {
        .chat-messages__day span {
          background: rgba(theme-background, medium-emphasis-opacity);
          color: rgba(theme-on-background, high-emphasis-opacity);
        }

        .message {
          &--selected {
            background: rgba(theme-on-surface, selected-opacity);
          }

          .message__time,
          .message__status {
            &--sent {
              color: rgba(theme-on-surface, medium-emphasis-opacity);
            }

            &--delivered {
              color: rgba(theme-on-surface, medium-emphasis-opacity);
            }

            &--read {
              color: rgba(theme-primary, high-emphasis-opacity);
            }
          }
        }

        .chat-form__attach {
          color: rgba(theme-on-surface, high-emphasis-opacity);

          &:hover {
            color: rgba(theme-primary, high-emphasis-opacity);
          }
        }

        .emoji-picker {
          .emoji-picker__invoker {
            color: rgba(theme-on-surface, high-emphasis-opacity);

            &:hover {
              color: rgba(theme-primary, high-emphasis-opacity);
            }
          }

          .emoji-picker__panel,
          .emoji-picker__tabs,
          .emoji-picker__panel-list-section-name {
            background: rgba(theme-surface, high-emphasis-opacity);
            box-shadow: unset;
            color: rgba(theme-on-surface, high-emphasis-opacity);
          }

          .emoji-picker__tabs {
            span {
              color: rgba(theme-on-surface, high-emphasis-opacity);

              &:hover {
                color: rgba(theme-primary, high-emphasis-opacity);
              }

              &.active {
                color: rgba(theme-primary, high-emphasis-opacity);
              }
            }
          }
        }

        .chat-form__content {
          .chat-form__textarea {
            background: rgba(theme-surface, high-emphasis-opacity);
            color: rgba(theme-on-surface, high-emphasis-opacity);
          }

          .chat-form__textarea::placeholder {
            color: rgba(theme-on-surface, medium-emphasis-opacity);
          }
        }

        .chat-bottom-actions .chat-bottom-actions__button {
          border-radius: 8px;

          highlightEffectOnHover();

          &:not(.chat-bottom-actions__button--red) {
            color: rgba(theme-primary, high-emphasis-opacity);
          }
        }
      }
    }
  }

  /* ********************* */
  /* floating audio player */
  /* ********************* */
  .floating_player {
    background: rgba(theme-background, high-emphasis-opacity);
    box-shadow: 0 3px 5px rgba(theme-primary, idle-opacity);
    color: rgba(theme-on-background, high-emphasis-opacity);

    .audio_player {
      .audio_player__control {
        .text_loop__grd--l {
          background-image: linear-gradient(to right, rgba(theme-background, high-emphasis-opacity), rgba(theme-background, 0));
        }

        .text_loop__grd--r {
          background-image: linear-gradient(to left, rgba(theme-background, high-emphasis-opacity), rgba(theme-background, 0));
        }

        .audio_player__control--duration,
        .audio_player__control--listens {
          color: rgba(theme-on-background, medium-emphasis-opacity);
        }

        .audio_player__control__panel {
          background-color: rgba(theme-background, high-emphasis-opacity);

          .audio_player__control__slider__bg {
            background-color: rgba(theme-on-background, high-emphasis-opacity);

            .audio_player__control__slider__bar {
              background-color: rgba(theme-primary, high-emphasis-opacity);
            }
          }
        }

        .with-icon,
        .audio_player__control__rwd,
        .audio_player__control__fwd,
        .audio_player__control__play,
        .audio_player__control__pause,
        .audio_player__control__rate,
        .audio_player__control__volume,
        .audio_player__control__mute {
          color: rgba(theme-on-background, high-emphasis-opacity);

          &:hover {
            color: rgba(theme-primary, high-emphasis-opacity) !important;
          }
        }
      }
    }

    .floating_player__close:hover {
      color: rgba(theme-primary, high-emphasis-opacity) !important;
    }
  }

  /* ********************* */
  /* floating video player */
  /* ********************* */
  .floating_screen_film {
    .floating_screen_film__header {
      background: rgba(theme-background, high-emphasis-opacity);
      box-shadow: 0 3px 5px rgba(theme-primary, idle-opacity);
      color: rgba(theme-on-background, high-emphasis-opacity);

      .floating_screen_film__title {
        &:hover {
          color: rgba(theme-secondary, high-emphasis-opacity);
        }
      }

      .floating_screen_film__control {
        &:hover {
          color: rgba(theme-primary, high-emphasis-opacity);
        }
      }
    }
  }

  /* ******************* */
  /* plus/verified icons */
  /* ******************* */
  .layout-badge,
  .subsite-badge {
    if (hideSubsitePlusBadges) {
      &--plus {
        display: none;
        visibility: hidden;
      }
    }

    if (hideSubsiteVerificationBadges) {
      &--verified {
        display: none;
        visibility: hidden;
      }
    }
  }

  /* ********************* */
  /* experimental features */
  /* ********************* */
  if (experimental) {
    layout-max-width = 1280px;
    layout-left-width = 220px;
    layout-content-width = 640px;
    layout-right-width = 320px;

    .main,
    .main.layout {
      display: grid;
      grid-template-columns: layout-left-width minmax(0, layout-content-width) layout-right-width;
      justify-content: space-between;
      margin-left: auto;
      margin-right: auto;
      max-width: layout-max-width;
      width: 100%;
    }

    @media (min-width: 640px) and (max-width: 1559px) {
      .app--content-entry.app--left-column-on.app--right-column-on .l-island-a,
      .app--content-entry.app--left-column-on.app--right-column-on .l-island-b {
        width: 550px;
      }
    }

    @media (min-width: 1560px) {
      .app--content-entry.app--left-column-on.app--right-column-on .l-island-a,
      .app--content-entry.app--left-column-on.app--right-column-on .l-island-b {
        width: 590px;
      }
    }
  }
}
